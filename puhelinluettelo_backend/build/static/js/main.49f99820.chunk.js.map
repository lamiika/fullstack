{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","getAll","axios","get","then","response","data","newObject","post","replacementObject","duplicate","put","id","delete","Filter","searchInput","setSearchInput","value","onChange","event","target","PersonForm","props","newName","setNewName","newNumber","setNewNumber","addPerson","onSubmit","type","Person","name","number","removePerson","onClick","Persons","filterNames","map","person","key","Notification","message","style","className","App","useState","persons","setPersons","setMessage","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","messageStyle","setMessageStyle","useEffect","personService","initialPersons","showNotification","content","time","setTimeout","filter","toLowerCase","includes","updateNumber","personObject","window","confirm","console","log","updatedPersons","catch","error","preventDefault","find","returnedPersons","remainingPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.49f99820.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => getAll())\r\n}\r\n\r\nconst updateNumber = (replacementObject, duplicate) => {\r\n  const request = axios.put(baseUrl + '/' + duplicate.id, replacementObject)\r\n  return request.then(response => getAll())\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(baseUrl + '/' + id)\r\n  return request.then(response => getAll())\r\n}\r\n\r\nexport default { getAll, create, updateNumber, remove }","import React from 'react'\r\n\r\nconst Filter = ({ searchInput, setSearchInput }) => (\r\n\t<form>\r\n\t\t<div>\r\n\t\t\tfilter shown with <input\r\n\t\t\t\tvalue={searchInput}\r\n\t\t\t\tonChange={(event) => setSearchInput(event.target.value)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</form>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n\tconst { newName, setNewName, newNumber, \r\n\t\tsetNewNumber, addPerson } = props\r\n\r\n\treturn (\r\n\t\t<form onSubmit={addPerson}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input \r\n\t\t\t\t\tvalue={newName}\r\n\t\t\t\t\tonChange={(event) => setNewName(event.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input\r\n\t\t\t\t\tvalue={newNumber}\r\n\t\t\t\t\tonChange={(event) => setNewNumber(event.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ name, number, removePerson, id}) => (\r\n\t<div>\r\n\t\t{name} {number}\r\n\t\t<button onClick={(event) => removePerson(event, id, name)}>delete</button>\r\n\t</div>\r\n)\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ filterNames, removePerson }) => (\r\n\t<div>\r\n\t\t{filterNames.map(person =>\r\n\t\t\t<Person name={person.name} \r\n\t\t\t\tnumber={person.number} key={person.id}\r\n\t\t\t\tremovePerson={removePerson} id={person.id} />\r\n\t\t)}\r\n\t</div>\r\n)\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, style }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={style} className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport personService from './services/persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n\tconst [ searchInput, setSearchInput ] = useState('')\r\n  const [ persons, setPersons ] = useState([])\r\n\tconst [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ message, setMessage ] = useState(null)\r\n  const [ messageStyle, setMessageStyle ] = useState({\r\n    color: 'blue',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  })\r\n\r\n\tuseEffect(() => {\r\n\t\tpersonService\r\n\t\t\t.getAll()\r\n\t\t\t.then(initialPersons => {\r\n\t\t\t\tsetPersons(initialPersons)\r\n\t\t\t})\r\n  }, [])\r\n\r\n  const showNotification = (content, color, time) => {\r\n    setMessage(content)\r\n    setMessageStyle({ ...messageStyle, color: color })\r\n    setTimeout(() => {\r\n      setMessage(null)\r\n    }, time * 1000)\r\n  }\r\n\r\n\tconst filterNames = persons.filter(person => \r\n\t\tperson.name.toLowerCase().includes(searchInput.toLowerCase()))\r\n\r\n\tconst addPerson = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tconst personObject = {\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber\r\n    }\r\n    \r\n    const duplicate = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\r\n\r\n    if (duplicate) {\r\n      updateNumber(personObject, duplicate)\r\n    } else {\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPersons => {\r\n          setPersons(returnedPersons)\r\n          setNewName('')\r\n          setNewNumber('')\r\n          showNotification(`Added ${personObject.name}`, 'green', 2)\r\n        })\r\n    }\r\n  }\r\n\r\n  const updateNumber = (personObject, duplicate) => {\r\n    if (window.confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n      console.log('hey')\r\n      personService\r\n        .updateNumber(personObject, duplicate)\r\n        .then(updatedPersons => {\r\n          setPersons(updatedPersons)\r\n          setNewName('')\r\n          setNewNumber('')\r\n          showNotification(`Updated ${personObject.name}'s phone number`, 'green', 2)\r\n        })\r\n        .catch(error => {\r\n          showNotification(`Information of ${personObject.name} has already been removed from server`, 'red', 4)\r\n        })\r\n    }\r\n  }\r\n  \r\n  const removePerson = (event, id, name) => {\r\n    event.preventDefault()\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n      personService\r\n      .remove(id)\r\n      .then(remainingPersons => {\r\n        setPersons(remainingPersons)\r\n        showNotification(`Deleted ${name} from phonebook`, 'green', 2)\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} style={messageStyle} />\r\n\t\t\t<Filter searchInput={searchInput} setSearchInput={setSearchInput} />\r\n\t\t\t<h3>add a new</h3>\r\n\t\t\t<PersonForm \r\n\t\t\t\tnewName={newName} setNewName={setNewName} \r\n\t\t\t\tnewNumber={newNumber} setNewNumber={setNewNumber}\r\n\t\t\t\taddPerson={addPerson}\r\n\t\t\t/>\r\n      <h3>Numbers</h3>\r\n\t\t\t<Persons filterNames={filterNames} removePerson={removePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}